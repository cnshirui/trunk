<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>


	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="verify-v1" content="J75JQ+WGFRjBEnhNT4hhYxgVTQmRHjd0v3JF+izUFvA=">
	<title>Heroku | Database import / export</title>
	<link type="text/css" rel="stylesheet" href="Database%20import%20&amp;%20export_files/docs.css" media="screen">
	<link type="text/css" rel="stylesheet" href="Database%20import%20&amp;%20export_files/shCore.css">
	<link type="text/css" rel="stylesheet" href="Database%20import%20&amp;%20export_files/shThemeHeroku.css">
	<script type="text/javascript" src="Database%20import%20&amp;%20export_files/jquery-1.js"></script>
	<script type="text/javascript" src="Database%20import%20&amp;%20export_files/shCore.js"></script>
	<script type="text/javascript" src="Database%20import%20&amp;%20export_files/shBrushRuby.js"></script>
	<script type="text/javascript">
		$(document).ready(function() {
			SyntaxHighlighter.config.tagName = 'code'
			SyntaxHighlighter.defaults['tag'] = false;
			SyntaxHighlighter.defaults['gutter'] = false;
			SyntaxHighlighter.defaults['toolbar'] = false;
			SyntaxHighlighter.all();
		});
	</script>
</head><body>
<div id="bodywrap">

	<style type="text/css">
#header { margin: 0; padding: 0; border: 0; font-weight: inherit; font-style: inherit; font-size: 100%; font-family: arial, helvetica, sans-serif; vertical-align: baseline; margin-bottom: 15px; }

#header { background-color: #29264d; border-bottom-style: solid; border-bottom-width: 3px; border-bottom-color: #494573; overflow: hidden; display: inline-block; }
#header { display: block; }
#header a { color: #c9c3e6; text-decoration: none; font-weight: normal; }
#header a:hover { color: #fff; }
#header #logo { margin: 20px 0 15px 25px; float: left; }
#header #logo a { display: block; text-indent: -9999px; width: 177px; height: 56px; overflow: hidden; background-image: url(http://heroku.com/images/v2/logo.png); background-repeat: no-repeat; }
#header ul { list-style-type: none; overflow: hidden; display: inline-block; float: right; margin-top: 30px; padding: 10px; }
#header ul { display: block; }
#header ul li { float: left; margin-left: 10px; }
#header ul li:first-child { margin-left: 0; }
#header ul li { border-left-style: solid; border-left-width: 2px; border-left-color: #534890; padding-left: 10px; font-size: 16px; }
#header ul li:first-child, #header ul li#account_login { border: none; margin-left: 0; padding-left: 0; }
#header ul li a.active { color: #bff740; }
#header ul li a.active:hover { color: #bff740; }
#header ul.account-links { background-color: #231d40; padding-left: 15px; padding-right: 15px; margin-right: 25px; margin-left: 10px; -moz-border-radius: 7px; -webkit-border-radius: 7px; }
#header ul.account-links a { color: #45a4ff; }
#header ul.account-links a:hover { color: #74d0f4; }
#header ul.account-links a.active { color: #bff740; }
#header ul.account-links a.active:hover { color: #bff740; }

</style>


<div id="header">
	
		<h5 id="logo"><a href="http://heroku.com/">Heroku</a></h5>
	

	<ul class="account-links inline">
		<div id="logged-in-links" style="display: none;">
			<li><a href="http://heroku.com/myapps">My Apps</a></li>
			<li><a href="http://heroku.com/account">My Account</a></li>
			<li><a href="http://heroku.com/logout">Logout</a></li>
		</div>
		<li id="account_login"><a href="http://heroku.com/login">Login</a></li>
	</ul>
	<ul class="info-links inline">
		<!-- <li><a href="http://heroku.com/about">About</a></li> -->
		<li><a href="http://heroku.com/how">How it Works</a></li>
		<li><a href="http://heroku.com/pricing">Pricing</a></li>
		<!-- <li><a href="http://blog.heroku.com/">Blog</a></li> -->
		<li><a href="http://docs.heroku.com/" class="active">Docs</a></li>
		<li><a href="http://support.heroku.com/" id="support_link">Support</a></li>
	</ul>
</div>

<script type="text/javascript">
	if (document.cookie.indexOf('heroku_session=') != -1) {
		document.getElementById('support_link').href = 'http://heroku.com/helpdesk/login';
		document.getElementById('logged-in-links').style.display = 'block';
		document.getElementById('account_login').style.display = 'none';
	}
</script>



	<div id="docsnav">
		<form action="/search" id="cse-search-box">
			<div id="search">
				<input name="cx" value="011016403564345195107:s5fypn6csxi" type="hidden">
				<input name="cof" value="FORID:10;NB:1" type="hidden">
				<input name="ie" value="UTF-8" type="hidden">
				<input style="border: 1px solid rgb(126, 157, 185); padding: 2px; background: rgb(255, 255, 255) url(http://www.google.com/coop/intl/en/images/google_custom_search_watermark.gif) no-repeat scroll left center; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous;" name="q" size="31" type="text">
			</div>
		<input value="14d5058e-f79f-0935-acbc-c29344a71d2a" name="vid" type="hidden"></form>

		<ul>
			
				<li>
				<h3>Getting Started</h3>
				<ul>
					
						
							<li><a href="http://docs.heroku.com/heroku">What is Heroku?</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/quickstart">Quickstart Guide</a></li>
						
					
				</ul>
				</li>
			
				<li>
				<h3>Application Management</h3>
				<ul>
					
						
							<li><a href="http://docs.heroku.com/heroku-command">Installing the Heroku command-line tool</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/creating-apps">Creating apps</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/renaming-apps">Renaming apps</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/git">Deploying with Git</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/sharing">Collaborating with others</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/gems">Managing Gems</a></li>
						
					
						
							<li class="current"><a>Database import / export</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/console">Using the console</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/rake">Running rake tasks</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/config-vars">Config vars</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/backups">Backups</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/addons">Managing Addons</a></li>
						
					
				</ul>
				</li>
			
				<li>
				<h3>Platform Features</h3>
				<ul>
					
						
							<li><a href="http://docs.heroku.com/technologies">System Infrastructure</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/dynos">Dynos</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/database">SQL Database</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/http-caching">HTTP cache</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/rack">Rack apps</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/custom-domains">Custom domains</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/ssl">SSL</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/cron">Cron</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/background-jobs">Background jobs</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/s3">Storing uploads in S3</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/smtp">Outbound email</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/full-text-indexing">Full text search indexing</a></li>
						
					
				</ul>
				</li>
			
				<li>
				<h3>Troubleshooting</h3>
				<ul>
					
						
							<li><a href="http://docs.heroku.com/constraints">Application constraints</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/logs-exceptions">Logs and exceptions</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/errors">Error pages</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/performance">Performance</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/support">Getting support</a></li>
						
					
				</ul>
				</li>
			
		</ul>
	</div>

	<div id="content">
		<div class="topic_content">
			<h1>Database import / export</h1>



<a name="installing-taps"></a>


	<ul id="toc">
		
			<li><a href="#installing-taps">Installing Taps</a></li>
		
			<li><a href="#import-push-to-heroku">Import: Push to Heroku</a></li>
		
			<li><a href="#export-pull-from-heroku">Export: Pull from Heroku</a></li>
		
			<li><a href="#additional-use-cases">Additional Use Cases</a></li>
		
	</ul>


<h2>Installing Taps</h2>

<p>The <a href="http://adam.blog.heroku.com/past/2009/2/11/taps_for_easy_database_transfers/">Taps</a>
project provides a fast, easy, single-step way to get databases of any size in and
out of Heroku. Taps allows you to push and pull databases from your local system
(or another hosting environment) directly to and from your Heroku app’s database.</p>

<p>The <code>heroku</code> command-line tool uses Taps internally to perform database
transfers. The <code>taps</code> gem must be installed before running any of the commands
described below:</p>

<pre><code>sudo gem install taps
</code></pre>

<a name="import-push-to-heroku"></a><h2>Import: Push to Heroku</h2>

<p>Use <code>db:push</code> when you wish to transfer an existing database to Heroku.  For
example, a SQLite database that you've been working with in local development;
or a MySQL database you have deployed on another host.</p>

<p>Your app should be deployed to Heroku in <a href="http://docs.heroku.com/quickstart">the usual way</a>.  From
within your local checkout of the deployed app:</p>

<pre><code>$ heroku db:push
Sending schema
Sending data
users:         100% |==============================================| Time: 00:00:00
pages:         100% |==============================================| Time: 00:00:00
comments:      100% |==============================================| Time: 00:00:00
tags:          100% |==============================================| Time: 00:00:00
Sending indexes
Resetting sequences
</code></pre>

<p>This pushes the contents (schema, data, indexes, sequences) of whatever database
is specified in <code>config/database.yml</code> to Heroku.</p>

<p>If you don’t have a <code>config/database.yml</code> (for example, if you’re using Sequel
or DataMapper in a Sinatra app), you can specify a database URL on the command
line. Some examples:</p>

<pre><code>$ heroku db:push sqlite://local.db
$ heroku db:push mysql://root:mypass@localhost/mydb
$ heroku db:push postgres://postgres:mypass@remotehost/mydb
</code></pre>

<a name="export-pull-from-heroku"></a><h2>Export: Pull from Heroku</h2>

<p>Use <code>db:pull</code> when you wish to export the contents of your Heroku app’s
database. Some uses include backups, local debugging, or to move the app’s
deployment location.</p>

<p>From within a local checkout of your Rails or Merb app which is deployed to
Heroku:</p>

<pre><code>$ heroku db:pull
Receiving schema
Receiving data
8 tables, 591 records
users:         100% |==============================================| Time: 00:00:00
pages:         100% |==============================================| Time: 00:00:00
comments:      100% |==============================================| Time: 00:00:00
tags:          100% |==============================================| Time: 00:00:00
Receiving indexes
Resetting sequences
</code></pre>

<p>This pulls the contents (schema, data, indexes, sequences) of the remote Heroku
database down into a local database specified in <code>config/database.yml</code>, or at
the database URL provided as an argument as described in the previous section.</p>

<a name="additional-use-cases"></a><h2>Additional Use Cases</h2>

<h3>Host-to-Host Database Transfer</h3>

<p>When importing to Heroku from an existing host (like EC2, Slicehost, or
your own co-located server), it will be fastest if you can run the import
straight from that machine. To do that, you’ll need to install the Heroku
client gem and enter your username/password on that machine. If you can’t
or don’t wish to import straight from that host, another option is to transfer
the database to your local machine first (via the typical <code>mysqldump</code>/<code>scp</code>/<code>mysql</code>,
or with the <code>taps</code> gem) and then run the <code>heroku db:push</code> command from there.</p>

<h3>Debugging</h3>

<p>db:pull is very useful for debugging production data.  For example, you
might have a user contact you about a corrupted record.  You could run
db:pull to get a local copy of the database, fix the remote record (via
<code>heroku console</code>), then inspect the corrupted data locally at your leisure.</p>

<h3>Backups</h3>

<p><code>db:pull</code> can be used for backups, although it will be much slower than
downloading a captured bundle.  But if you don’t mind the longer transfer
time, having it in a SQL database format of your choice may be superior,
since you can quickly query the backed-up data in cases such as recovery of
a few accidentally-deleted records.</p>



	<div id="next_section">Next: <a href="http://docs.heroku.com/console">Using the console →</a></div>


<a href="http://docs.heroku.com/console">		</a></div>
<a href="http://docs.heroku.com/console">	</a></div>
</div>

<!-- google site search -->
<script type="text/javascript" src="Database%20import%20&amp;%20export_files/jsapi"></script>
<script type="text/javascript">google.load("elements", "1", {packages: "transliteration"});</script><script src="Database%20import%20&amp;%20export_files/a" type="text/javascript"></script><a href="http://docs.heroku.com/console"><link href="Database%20import%20&amp;%20export_files/transliteration.css" type="text/css" rel="stylesheet"><script src="Database%20import%20&amp;%20export_files/transliteration.js" type="text/javascript"></script>
<script type="text/javascript" src="Database%20import%20&amp;%20export_files/t13n.htm"></script>
<script type="text/javascript" src="Database%20import%20&amp;%20export_files/brand.htm"></script>


<!-- loopfuse -->
<script src="Database%20import%20&amp;%20export_files/listen.js" type="text/javascript"></script>
<script type="text/javascript">
_lf_cid = "LF_024e931f";
_lf_remora();
</script>

<!-- google analytics -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="Database%20import%20&amp;%20export_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
try{
var pageTracker = _gat._getTracker("UA-2989055-1");
pageTracker._setDomainName(".heroku.com");
pageTracker._trackPageview();
} catch(err) {}
</script>


</a></body></html>